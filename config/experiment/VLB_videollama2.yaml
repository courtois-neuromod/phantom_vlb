# @package _global_

datamodule:
  _target_:
    src.datamodule.VLBDataModule
  config:
    _target_:
      src.datamodule.VLBDataModuleConfig
    features_path: $SLURM_TMPDIR/friends_*_features.h5
    timeseries_path:
      "$SLURM_TMPDIR/${subject}_task-friends_space-\
      MNI152NLin2009cAsym_atlas-Schaefer18_desc-1000Parcels7Networks_timeseries.h5"
    lazyload_path: $SLURM_TMPDIR/friends_${subject}_*_llFile.h5
    delay: 3
    window: 3
    seasons: [s01, s02, s04, s05, s06]
    subject: ${subject}
    transcript_type: scene_transcript_features
    random_state: ${random_state}
    batch_size: 3
    num_workers: 3
    shuffle_val_data: True

litmodule:
  _target_:
    src.litmodule.VLBLitModule
  config:
    _target_:
      src.litmodule.VLBLitModuleConfig
    model_path: DAMO-NLP-SG/VideoLLaMA2-7B
    freeze_backbone: False
    lr: 1e-3
    betas: [0.9, 0.999]
    eps: 1e-08
    weight_decay: 1e-2
    lr_scheduler_name: CosineAnnealingLR
    last_epoch: -1
    t_max: 50000

output_dir: ./results/videollama2/brain_finetune/friends/lightning_ckpt

name: vllama2_vlb_friends
